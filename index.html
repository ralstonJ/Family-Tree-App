<html>
<head>
<title>Family Tree App by Ralston ALmeida </title>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js">
</script>
<link rel="icon" type="image/png" href="./icon.png">
<link type="text/css" rel="stylesheet" href="Home.css" />

</head>

<body>
<div class="top-div">
<div class="div_txt"> Welcome to Family Tree</div>
<input type="text"  id="txtMemName"></input>
<button id="ok_button"> ok</button> 
<script>

$(document).ready(function(){
	
	var i = 0
	var flyMem = new Array();
	
	function Person(name) 
	{
		this.parent = null;
		this.name = name;
	}

	

	$("#ok_button").click(function(){
	
		var txtMemName = $('input:text[id="txtMemName"]').val();
		flyMem[i++] = new Person(txtMemName);
		$(".div_txt").append(" <p id='p_mem_name_" +(i-1)+"'>" + flyMem[i-1].name +  " " +  "</p>");
		var id_div_mem_name = "#p_mem_name_" + (i-1);
		var test = $('<button/>',
			{
				id: 'btn_add_child_'+(i-1),
				text: 'Add Child',
				click: function () { 
					var id_btn = $(this).attr('id');	
					var iFlyMem = id_btn.replace('btn_add_child_','');
					var txtAddChild = 	id_btn.replace('btn_add_child_','txt_add_child_');
		
					var tmp_Txt_Child = "input:text[id='"+ txtAddChild +"']" ;
					var txtMemName = $(tmp_Txt_Child).val();
					flyMem[i++] = new Person(txtMemName);
					$(".div_txt").append(" <p id='p_mem_name_" +(i-1)+"'>" + flyMem[i-1].name +  " " +  "</p>"); 
					$(id_div_mem_name).append(test);
				}
			});
		$(id_div_mem_name).append(test);
		$(id_div_mem_name).append("<input type ='text' id='txt_add_child_"+(i-1)+"'> </input> ");	
	});
	
  
  });
  // Delete 
  
  
  
	/*
	for( var i = 0; i<10;i++)
	{
			document.write ('<div class = "div_txt">' + flyMem[i].name + flyMem[i].parent + '</div>');
	}

	
	document.write ('</br>');
	document.write ('<div class = "div_txt">Delete Members</div>');
	// Delete only node 2
	
	flyMem[1].parent = null;
	// After Delete
	document.write ('</br>');
	document.write ('<div class = "div_txt">After Delete Members</div>');


	for(var key in flyMem)

	{
			document.write ('<div class = "div_txt">' + flyMem[key].name + flyMem[key].parent + '</div>');
	}
	
	document.write ('</br>');
	document.write ('<div class = "div_txt">Deleted Members</div>');

	for(var key in flyMem)
	{
	if(  (key >0 && flyMem[key].parent > 0 && flyMem[key].parent != null &&  flyMem[(flyMem[key].parent)].parent == null) || (key > 0 && flyMem[key].parent == null )  )  
			 	document.write ('<div class = "div_txt">' + flyMem[key].name + flyMem[key].parent +'</div>');
	
	}
	*/
	
	</script>

</div>
	
</body>

</html>